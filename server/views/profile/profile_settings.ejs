<!DOCTYPE html>

<html>

<head>
	<title>Account Settings - DomaHub</title>
	<link rel="stylesheet" href="/css/min/profile_general.min.css" type="text/css" />
	<%- include("../templates/head_links"); %>
</head>

<body>

	<%- include("../templates/navbar", {user: user}); %>

  <section class="section min-height is-medium">
    <div class="container">
      <div class="columns">
				<div class="column is-3">
					<aside class="menu">
						<p class="menu-label">
							Profile Settings
						</p>
						<ul class="menu-list">
							<li><a id="basic-link" href='#basic' class="setting-link is-active">Basic Information</a></li>
							<li><a id="verifications-link" href='#verification' class="setting-link">Verifications</a></li>
						</ul>
						<p class="menu-label">
							Payment Settings
						</p>
						<ul class="menu-list">
							<li><a id="payout-address-link" href="#payout" class="setting-link">Payout Settings</a></li>
							<li><a id="payout-personal-link" href="#payout-personal" class="hide-stripe is-hidden setting-link">Personal Information</a></li>
							<li><a id="payout-bank-link" href="#payout-bank" class="hide-stripe is-hidden setting-link">Bank Information</a></li>
						</ul>
						<% if (user.stripe_charges) { %>
							<p class="menu-label">
								Transactions
							</p>
							<ul class="menu-list">
								<li><a id="transactions-link" href='#transactions' class="setting-link">History</a></li>
								<%# <li><a id="pending-link" href='#pending' class="setting-link">Pending</a></li> %>
							</ul>
						<% } %>
					</aside>
				</div>

				<div class="column is-9">
					<div id="basic" class="card is-fullwidth is-hidden">
						<header class="card-header">
							<p class="card-header-title">
								Basic Information &nbsp<span id="basic-message" class="setting-message"></span>
							</p>
							<a class='edit-section-button card-header-icon button is-small no-shadow is-accent'>
								Edit
							</a>
						</header>
						<div class="card-content">
							<form id="account-settings" class="account-form">
								<div class="control is-horizontal">
									<div class="control-label is-medium is-medium">
										<label class="label">Email Address</label>
									</div>
									<p class="control">
										<input id="email-input" class="is-disabled input account-input" type="text" value="<%= user.email %>" />
									</p>
								</div>
								<div class="control is-horizontal">
									<div class="control-label is-medium">
										<label class="label">Username</label>
									</div>
									<p class="control">
										<input id="username-input" class="is-disabled input account-input" type="text" value="<%= user.username %>" spellcheck="false"/>
									</p>
								</div>
								<div class="control is-horizontal">
									<div class="control-label is-medium">
										<label class="label">Current Password</label>
									</div>
									<p class="control">
										<input id="old-pw-input" class="is-disabled input account-input" name="password" type="password" autocomplete="new-password" value="">
									</p>
								</div>
								<div class="control is-horizontal hidden-edit is-hidden">
									<div class="control-label is-medium">
										<label id="pw-label" class="label">New Password</label>
									</div>
									<p class="control">
										<input id="new-pw-input" class="is-disabled input account-input" type="password"/>
									</p>
								</div>
								<div class="control is-horizontal hidden-edit is-hidden">
									<div class="control-label is-medium">
										<label class="label">Confirm Password</label>
									</div>
									<p class="control">
										<input id="verify-pw-input" class="is-disabled input account-input" type="password">
									</p>
								</div>

								<!--
								<div class="control is-horizontal">
									<div class="control-label is-medium">
										<label class="label">Gender</label>
									</div>
									<div class="control">
										<div class="select">
											<select value="<%= user.gender %>" id="gender-input" class="account-input">
												<option disabled>Gender</option>
												<option value='0'>Female</option>
												<option value='1'>Male</option>
												<option value='2'>Other</option>
											</select>
										</div>
									</div>
								</div>
								</div>
								<div class="control is-horizontal">
									<div class="control-label is-medium">
										<label class="label">Phone Number</label>
									</div>
									<div class="control is-grouped">
										<p class="control">
											<input class="input account-input" type="text" value="<%= user.phone %>">
										</p>
									</div>
								</div>

							-->
								<div class="control hidden-edit is-hidden">
									<button id="change-account-submit" class="button is-disabled is-primary no-shadow">Save Changes</button>
									<button id="change-account-cancel" class="button is-hidden is-danger no-shadow">Cancel Changes</button>
								</div>
							</form>
						</div>

					</div>
					<div id="verifications" class="card is-fullwidth is-hidden" >
						<header class="card-header">
							<p class="card-header-title">
								Account Verifications
							</p>
						</header>
						<div class="card-content">
							<form>
								<div class="control is-horizontal">
									<div class="control-label is-medium">
										<label class="label">Email Address</label>
									</div>
									<p class="control">
										<span class="tag is-primary">Verified</span>
									</p>
								</div>
								<div class="control is-horizontal">
									<div class="control-label is-medium">
										<label class="label">Bank Account</label>
									</div>
									<div class="control is-grouped">
										<% if (user.stripe_info && user.stripe_info.transfers_enabled) { %>
											<p class="control is-success">
												<span class="tag is-primary">Connected</span>
											</p>
										<% } else { %>
											<p class="control is-danger">
												<span class="tag is-danger">Not Connected</span>
											</p>
										<% } %>
									</div>
								</div>
								<div class="control is-horizontal">
									<div class="control-label is-medium">
										<label class="label">Account Standing</label>
									</div>
									<div class="control is-grouped">
										<% if (user.type >= 2) { %>
											<p class="control is-success">
												<span class="tag is-primary">Good</span>
											</p>
										<% } else { %>
											<p class="control is-danger">
												<span class="tag is-danger">Not Good</span>
											</p>
										<% } %>
									</div>
								</div>
							</form>
						</div>
					</div>
					<div id="payout-address" class="card is-fullwidth is-hidden">
						<header class="card-header">
							<p class="card-header-title">
								Payout Address &nbsp<span id="payout-address-message" class="setting-message"></span>
							</p>
							<a class='edit-section-button card-header-icon button is-small no-shadow is-accent'>
								Edit
							</a>
						</header>
						<div class="card-content">
							<form id="payout-address-form" class="payout-form stripe-form">
								<label class="label">Country</label>
									<div class="control">
										<span class="select is-disabled is-fullwidth">
											<select required name="country" id="country-input" class="stripe-input">
												<option value="AT">Austria</option>
												<option value="AU">Australia</option>
												<option value="BE">Belgium</option>
												<option value="CA">Canada</option>
												<option value="DK">Denmark</option>
												<option value="FI">Finland</option>
												<option value="FR">France</option>
												<option value="DE">Germany</option>
												<option value="HK">Hong Kong</option>
												<option value="IE">Ireland</option>
												<option value="IT">Italy</option>
												<option value="JP">Japan</option>
												<option value="LU">Luxembourg</option>
												<option value="NL">Netherlands</option>
												<option value="NO">Norway</option>
												<option value="NZ">New Zealand</option>
												<option value="PT">Portugal</option>
												<option value="SG">Singapore</option>
												<option value="ES">Spain</option>
												<option value="SE">Sweden</option>
												<option value="CH">Switzerland</option>
												<option value="GB">United Kingdom</option>
												<option value="US" selected>United States</option>
											</select>
										</span>
									</div>
								<label class="label">Address Line 1</label>
									<div class="control">
										<input required id="addressline1-input" class="input is-disabled stripe-input" type="text" name="addressline1" autocomplete=""/>
									</div>
								<label class="label">Address Line 2</label>
									<div class="control">
										<input id="addressline2-input" class="input is-disabled stripe-input" type="text" name="addressline2" autocomplete=""/>
									</div>
								<label class="label">City</label>
									<div class="control">
										<input required id="city-input" class="input is-disabled stripe-input" type="text" name="city" autocomplete=""/>
									</div>
								<label class="label">State / Province</label>
									<div class="control">
										<input required id="state-input" class="input is-disabled stripe-input" type="text" name="state" autocomplete=""/>
									</div>
								<label class="label">Zip Code / Postal Code</label>
									<div class="control">
										<input required id="zip-input" class="input is-disabled stripe-input" type="text" name="zip" autocomplete=""/>
									</div>
								<div class="control hidden-edit is-hidden">
									<button tabindex="1" id="payout-address-submit" class="submit-payout button is-stylish is-small is-primary no-shadow is-disabled">Save Changes</button>
									<button tabindex="1" id="payout-address-cancel" class="cancel-payout button is-stylish is-small is-danger no-shadow is-hidden">Cancel Changes</button>
									<button tabindex="1" id="payout-address-next" class="payout-next-button is-hidden button is-stylish is-small is-primary is-pulled-right no-shadow is-hidden">Personal Information</button>
								</div>
							</form>
						</div>
					</div>
					<div id="payout-personal" class="is-hidden card is-fullwidth is-hidden">
						<header class="card-header">
							<p class="card-header-title">
								Personal Information &nbsp<span id="payout-personal-message" class="setting-message"></span>
							</p>
							<a class='edit-section-button card-header-icon button is-small no-shadow is-accent'>
								Edit
							</a>
						</header>
						<div class="card-content">
							<form id="payout-personal-form" class="payout-form stripe-form">
								<label class="label">First Name</label>
									<div class="control">
										<input required id="first_name-input" class="input is-disabled stripe-input" type="text" name="first_name" />
									</div>
								<label class="label">Last Name</label>
									<div class="control">
										<input required id="last_name-input" class="input is-disabled stripe-input" type="text" name="last_name" />
									</div>
								<label class="label">Birth Date</label>
									<div class="control">
										<div class="select is-disabled">
											<select required id="birthday_year-input" name="birthday_year" class="stripe-input">
												<option selected value="" disabled>Year</option>
												<option value="1998">1998</option>
												<option value="1997">1997</option>
												<option value="1996">1996</option>
												<option value="1995">1995</option>
												<option value="1994">1994</option>
												<option value="1993">1993</option>
												<option value="1992">1992</option>
												<option value="1991">1991</option>
												<option value="1990">1990</option>
												<option value="1989">1989</option>
												<option value="1988">1988</option>
												<option value="1987">1987</option>
												<option value="1986">1986</option>
												<option value="1985">1985</option>
												<option value="1984">1984</option>
												<option value="1983">1983</option>
												<option value="1982">1982</option>
												<option value="1981">1981</option>
												<option value="1980">1980</option>
												<option value="1979">1979</option>
												<option value="1978">1978</option>
												<option value="1977">1977</option>
												<option value="1976">1976</option>
												<option value="1975">1975</option>
												<option value="1974">1974</option>
												<option value="1973">1973</option>
												<option value="1972">1972</option>
												<option value="1971">1971</option>
												<option value="1970">1970</option>
												<option value="1969">1969</option>
												<option value="1968">1968</option>
												<option value="1967">1967</option>
												<option value="1966">1966</option>
												<option value="1965">1965</option>
												<option value="1964">1964</option>
												<option value="1963">1963</option>
												<option value="1962">1962</option>
												<option value="1961">1961</option>
												<option value="1960">1960</option>
												<option value="1959">1959</option>
												<option value="1958">1958</option>
												<option value="1957">1957</option>
												<option value="1956">1956</option>
												<option value="1955">1955</option>
												<option value="1954">1954</option>
												<option value="1953">1953</option>
												<option value="1952">1952</option>
												<option value="1951">1951</option>
												<option value="1950">1950</option>
												<option value="1949">1949</option>
												<option value="1948">1948</option>
												<option value="1947">1947</option>
												<option value="1946">1946</option>
												<option value="1945">1945</option>
												<option value="1944">1944</option>
												<option value="1943">1943</option>
												<option value="1942">1942</option>
												<option value="1941">1941</option>
												<option value="1940">1940</option>
												<option value="1939">1939</option>
												<option value="1938">1938</option>
												<option value="1937">1937</option>
												<option value="1936">1936</option>
												<option value="1935">1935</option>
												<option value="1934">1934</option>
												<option value="1933">1933</option>
												<option value="1932">1932</option>
												<option value="1931">1931</option>
												<option value="1930">1930</option>
												<option value="1929">1929</option>
												<option value="1928">1928</option>
												<option value="1927">1927</option>
												<option value="1926">1926</option>
												<option value="1925">1925</option>
												<option value="1924">1924</option>
												<option value="1923">1923</option>
												<option value="1922">1922</option>
												<option value="1921">1921</option>
												<option value="1920">1920</option>
												<option value="1919">1919</option>
												<option value="1918">1918</option>
												<option value="1917">1917</option>
												<option value="1916">1916</option>
											</select>
										</div>
										<div class="select is-disabled">
											<select required id="birthday_month-input" name="birthday_month" class="stripe-input">
												<option selected value="" disabled>Month</option>
												<option value="1">January</option>
												<option value="2">February</option>
												<option value="3">March</option>
												<option value="4">April</option>
												<option value="5">May</option>
												<option value="6">June</option>
												<option value="7">July</option>
												<option value="8">August</option>
												<option value="9">September</option>
												<option value="10">October</option>
												<option value="11">November</option>
												<option value="12">December</option>
											</select>
										</div>
										<div class="select is-disabled">
											<select required id="birthday_day-input" name="birthday_day" class="stripe-input">
												<option selected value="" disabled>Day</option>
												<option value="1">1</option>
												<option value="2">2</option>
												<option value="3">3</option>
												<option value="4">4</option>
												<option value="5">5</option>
												<option value="6">6</option>
												<option value="7">7</option>
												<option value="8">8</option>
												<option value="9">9</option>
												<option value="10">10</option>
												<option value="11">11</option>
												<option value="12">12</option>
												<option value="13">13</option>
												<option value="14">14</option>
												<option value="15">15</option>
												<option value="16">16</option>
												<option value="17">17</option>
												<option value="18">18</option>
												<option value="19">19</option>
												<option value="20">20</option>
												<option value="21">21</option>
												<option value="22">22</option>
												<option value="23">23</option>
												<option value="24">24</option>
												<option value="25">25</option>
												<option value="26">26</option>
												<option value="27">27</option>
												<option value="28">28</option>
												<option value="29">29</option>
												<option value="30">30</option>
												<option value="31">31</option>
											</select>
										</div>
									</div>
								<div class="control hidden-edit is-hidden">
									<button tabindex="1" id="payout-personal-submit" class="submit-payout button is-stylish is-small is-primary no-shadow is-disabled">Save Changes</button>
									<button tabindex="1" id="payout-personal-cancel" class="cancel-payout button is-stylish is-small is-danger no-shadow is-hidden">Cancel Changes</button>
									<button tabindex="1" id="payout-personal-next" class="payout-next-button is-hidden button is-stylish is-small is-primary is-pulled-right no-shadow is-hidden">Bank Information</button>
								</div>
							</form>
						</div>
					</div>
					<div id="payout-bank" class="is-hidden card is-fullwidth is-hidden">
						<header class="card-header">
							<p class="card-header-title">
								Bank Information &nbsp<span id="payout-bank-message" class="setting-message"></span>
							</p>
							<a class='edit-section-button card-header-icon button is-small no-shadow is-accent'>
								Edit
							</a>
						</header>
						<div class="card-content">
							<form id="payout-bank-form" class="payout-form stripe-form">
								<label class="label">Account Type</label>
									<div class="control">
										<span class="select is-disabled is-fullwidth">
											<select required id="account_type-input" name="account_type" class="stripe-input">
												<option selected value="individual">Individual</option>
												<option value="company">Company</option>
											</select>
										</span>
									</div>
								<label class="label">Routing Number</label>
									<div class="control">
										<input required id="account_routing-input" class="input is-disabled stripe-input" type="number" pattern="[0-9]*" inputmode="numeric" name="account_routing" />
									</div>
								<label class="label">Account Number</label>
									<div class="control">
										<input required id="account_number-input" class="input is-disabled stripe-input" type="number" pattern="[0-9]*" inputmode="numeric" name="account_number" />
									</div>
								<div class="control hidden-edit is-hidden">
									<button tabindex="1" id="payout-bank-submit" class="submit-payout button is-stylish is-small is-primary no-shadow is-disabled">Save Changes</button>
									<button tabindex="1" id="payout-bank-cancel" class="cancel-payout button is-stylish is-small is-danger no-shadow is-hidden">Cancel Changes</button>
								</div>
							</form>
						</div>
					</div>

					<% if (user.stripe_charges) { %>
						<%- include("profile_transactions", {user: user}); %>
					<% } %>
				</div>
			</div>

		</div>
	</section>

	<%- include("../templates/footer"); %>
	<%- include("../templates/js_scripts"); %>
	<script src="/js/lib/moment.min.js" type="text/javascript"></script>
	<script src="/js/lib/wNumb.js" type="text/javascript"></script>
	<script type="text/javascript">
		//redirect to homepage if user is not defined
		var user = <% if(typeof user != "undefined"){ %><%-JSON.stringify(user)%><% }else{ %>window.location="/"<% } %>;
	</script>
	<script src="https://js.stripe.com/v2/" type="text/javascript" ></script>
	<script src="/js/routes/profile/profile_settings_logic.js" type="text/javascript"></script>
	<script src="/js/routes/profile/profile_settings_stripe_logic.js" type="text/javascript"></script>
	<% if (user.stripe_charges) { %>
		<script src="/js/routes/profile/profile_transactions_logic.js" type="text/javascript"></script>
	<% } %>
</body>

</html>
