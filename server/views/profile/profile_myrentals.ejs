<!DOCTYPE html>

<html>

<head>
	<title>My Rentals - DomaHub</title>
	<%- include("../templates/head_links"); %>
	<link rel="stylesheet" href="/css/lib/fullcalendar.min.css" type="text/css" />
	<link rel="stylesheet" href="/css/profile_general.css" type="text/css" />
	<link rel="stylesheet" href="/css/listing_page.css" type="text/css" />
</head>

<body>
	<%- include("../templates/navbar", {user: user}); %>

	<div class="container clear-nav-profile">
    <div class="tabs is-centered">
    	<ul>
        <li><a href="/profile/dashboard" tabindex="1">Dashboard</a></li>
        <li><a href="/profile/messages" tabindex="1">Messages</a></li>
        <li><a href="/profile/mylistings" tabindex="1">Listings</a></li>
        <li class="is-active"><a href="/profile/myrentals" tabindex="1">Rentals</a></li>
        <li><a href="/profile/settings" tabindex="1">Settings</a></li>
      </ul>
    </div>
	</div>

	<section class="section min-height">
		<div class="container">
			<div class="columns">
				<div class="column">

					<div id="no-rows" class="box has-text-centered is-hidden">
						There are no rentals!
					</div>

					<div class="rows-exist">

						<div class="control has-icon">
							<input id="search-domain" tabindex="1" class="input" type="text" placeholder="Search listings" />
							<i class="fa fa-search"></i>
						</div>

						<nav class="level filter-panel">
							<div class="level-item">
								<a class="is-active filter-local" id="reset_filter" tabindex="1">
									View All
								</a>
							</div>
							<div class="level-item">
								<a class="filter-local" id="expiring_filter" tabindex="1">
									Expiring
								</a>
							</div>
							<div class="level-item">
								<a class="filter-local" id="expired_filter" tabindex="1">
									Expired
								</a>
							</div>
							<div class="level-item">
								<a class="filter-local" id="active_filter" tabindex="1">
									Active
								</a>
							</div>
							<div class="level-item">
								<a class="filter-local" id="inactive_filter" tabindex="1">
									Inactive
								</a>
							</div>
						</nav>

						<table class="table">
							<thead class="">
								<tr>
									<th class="td-arrow"></th>
									<th class="td-domain">
										Domain Name
										<span class="icon is-small is-active sort-desc is-hidden"><i class="fa fa-sort-desc"></i></span>
										<span class="icon is-small is-active sort-asc is-hidden"><i class="fa fa-sort-asc"></i></span>
										<span class="icon is-small sort-none is-disabled"><i class="fa fa-sort"></i></span>
									</th>
									<th class="td-status">
										Status
										<span class="icon is-small is-active sort-desc is-hidden"><i class="fa fa-sort-desc"></i></span>
										<span class="icon is-small is-active sort-asc is-hidden"><i class="fa fa-sort-asc"></i></span>
										<span class="icon is-small sort-none is-disabled"><i class="fa fa-sort"></i></span>
									</th>
									<th class="td-address">
										Address
										<span class="icon is-small is-active sort-desc is-hidden"><i class="fa fa-sort-desc"></i></span>
										<span class="icon is-small is-active sort-asc is-hidden"><i class="fa fa-sort-asc"></i></span>
										<span class="icon is-small sort-none is-disabled"><i class="fa fa-sort"></i></span>
									</th>
									<th class="td-view"></th>
								</tr>
							</thead>
							<tbody id="table_body"></tbody>
						</table>

						<nav class="pagination margin-bottom-25">
							<a id="prev-page" class="button no-shadow">Previous page</a>
							<a id="next-page" class="button no-shadow">Next page</a>
							<ul id="page-list"></ul>
						</nav>

						<nav class="pagination-control">
							<div class="control is-horizontal">
								<div class="control-label">
									<label class="label">Show per page:</label>
								</div>
								<div class="control">
									<div class="select">
										<select id="domains-per-page">
											<option selected value="5">5</option>
											<option value="25">25</option>
											<option value="50">50</option>
											<option value="100">100</option>
										</select>
									</div>
								</div>
							</div>
							<div class="control">
								<p class="control has-addons has-addons-right">
									<input id="go-to-page-input" class="input" type="number" min="1" value="1" />
									<a id="go-to-page-button" class="button is-primary">
										Go to page
									</a>
								</p>
							</div>
						</nav>

					</div>
				</div>

			</div>
		</div>
		<div id="listing-modal" class="modal">
			<div class="modal-background"></div>
			<div class="modal-container-calendar">
				<div id="calendar-modal-content" class="listing-modal-content">
					<div id="calendar-modal-top">
						<nav class="level">
							<div class="level-left">
								<div class="level-item">
									<a tabindex="1" class="button is-danger no-shadow" id="remove_events">Remove Selected</a>
								</div>
								<div class="level-item">
									<a tabindex="1" class="button no-shadow" id="month_button">Month View</a>
								</div>
								<div class="level-item">
									<a tabindex="1" class="button no-shadow" id="today-button">Today</a>
								</div>
							</div>
							<div class="level-right">
								<div class="level-item">
									<a tabindex="1" id="redirect-next-button" class="button no-shadow is-primary is-disabled">
										<span>Next</span>
										<span class="icon">
											<i class="fa fa-angle-right"></i>
										</span>
									</a>
								</div>
							</div>
						</nav>
						<div class="columns">
							<div class="column is-half has-borderRight">
								<div class="content">
									<h1>Add time to your rental for <span id='rental-domain-name' class='is-primary'>imsorryimdumb.com</span>.</h1>
									<p id="calendar-error-message">
										Click a cell on the calendar to reserve that time slot.
										You may select whole days by clicking on the date.
										Use the buttons at the top to remove all selected cells or
										change calendar views.
									</p>
								</div>
							</div>
							<div class="column is-3">
								<div class="content padding-5">
									<h3 class="is-bold">Pricing Information</h3>
									<nav class="level is-mobile has-borderBottom is-marginless">
									  <div class="level-left">
									    <p class="level-item">
									      Hourly:
									    </p>
									  </div>
									  <div class="level-right">
									    <p class="level-item">
									      $0
									    </p>
									  </div>
									</nav>
									<nav class="level is-mobile has-borderBottom is-marginless">
									  <div class="level-left">
									    <p class="level-item">
									      Daily:
									    </p>
									  </div>
									  <div class="level-right">
									    <p class="level-item">
									      $0
									    </p>
									  </div>
									</nav>
									<nav class="level is-mobile has-borderBottom is-marginless">
									  <div class="level-left">
									    <p class="level-item">
									      Weekly:
									    </p>
									  </div>
									  <div class="level-right">
									    <p class="level-item">
									      $0
									    </p>
									  </div>
									</nav>
									<nav class="level is-mobile has-borderBottom is-marginless">
									  <div class="level-left">
									    <p class="level-item">
									      Monthly:
									    </p>
									  </div>
									  <div class="level-right">
									    <p class="level-item">
									      $0
									    </p>
									  </div>
									</nav>

								</div>
							</div>
							<div class="column is-3 flex-column-center">
								<div class="content has-text-centered">
									<h1 id="price" class="is-inline-block">$0</h1>
								</div>
							</div>
						</div>
					</div>
					<div id="calendar-modal-bottom"></div>
		</div>
			</div>
		</div>
	</section>

	<%# keep calendar outside of modal and move it in with JS to fix weird bug of not appearing%>
	<div id="calendar" class="margin-top-25"></div>

	<%- include("../templates/footer"); %>
	<%- include("../templates/js_scripts"); %>
	<script src="/js/lib/moment.min.js" type="text/javascript"></script>
	<script src="/js/lib/fullcalendar.min.js" type="text/javascript"></script>
	<script src="/js/lib/wNumb.js" type="text/javascript"></script>
	<script type="text/javascript" src="https://js.stripe.com/v2/"></script>
	<script src="/js/lib/jquery.payment.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		//redirect to homepage if user is not defined
		var user = <% if(typeof user != "undefined"){ %><%-JSON.stringify(user)%><% }else{ %>window.location="/"<% } %>;
		var rentals = <% if(typeof rentals != "undefined"){ %><%-JSON.stringify(rentals)%><% }else{ %>""<% } %>;
	</script>
	<script src="/js/calendar_logic.js" type="text/javascript"></script>
	<script src="/js/routes/profile/profile_myrentals_logic.js" type="text/javascript"></script>
	<script src="/js/routes/profile/profile_pagination_logic.js" type="text/javascript"></script>
</body>
</html>
