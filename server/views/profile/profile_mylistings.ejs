<!DOCTYPE html>

<html>

<head>
	<title>My Listings - DomaHub</title>
	<link rel="stylesheet" href="/css/lib/jquery.tagit.css" type="text/css" />
	<link rel="stylesheet" href="/css/lib/jquery.minicolors.css" type="text/css" />
	<%- include("../templates/head_links"); %>
</head>

<body>
	<%- include("../templates/navbar", {user: user}); %>

	<section class="section is-medium min-height">
		<div class="container">
			<div class="columns">
				<div class="column is-3">
					<div class="content">
						<h2>My Domains</h2>
					</div>
					<!-- FITER MENU -->
					<div id="filters">
						<div class="control">
							<span class="select is-fullwidth" tabindex="0">
								<select id="filter-select">
									<option selected value="reset_filter">View All</option>
									<option value="premium_filter">Premium</option>
									<option value="basic_filter">Basic</option>
									<option value="unverified_filter">Unverified</option>
									<option value="rented_filter">Rented Now</option>
								</select>
							</span>
						</div>
						<div class="control">
							<span class="select is-fullwidth" tabindex="0">
								<select id="sort-select">
									<option disabled selected>Sort By</option>
									<option value="date">Date Created</option>
									<option value="az">Name (A - Z)</option>
									<option value="za">Name (Z - A)</option>
									<option value="price_asc">Price (Low - High)</option>
									<option value="price_desc">Price (High - Low)</option>
								</select>
							</span>
						</div>
						<div class="control is-expanded has-icon">
							<i class="fa fa-search"></i>
							<input id="search-domain" tabindex="0" class="input is-expanded" type="text" placeholder="Search domains" />
						</div>
						<div class="button-wrapper control">
							<a id="multi-delete" class="multi-button is-disabled button no-shadow" tabindex="0" title="Delete Listing(s)">
								<span class="icon is-small">
									<i class="fa fa-trash"></i>
								</span>
								<span>Delete</span>
							</a>
							<a id="multi-verify" class="multi-button is-disabled button no-shadow" tabindex="0" title="Verify Listing(s)">
								<span class="icon is-small">
									<i class="fa fa-check-circle-o"></i>
								</span>
								<span>Verify</span>
							</a>
						</div>
					</div>

					<!-- DOMAINS TABLE  -->
					<div id="table_body" class="margin-top-15">
						<div id="verified-clone-row" class="padding-5 clone-row table-row is-hidden flex-item">
							<p class="select-button is-inline">
				                <span class="icon is-medium"><i class="no-transition fa fa-square-o"></i></span>
				            </p>
							<p class='is-inline td-domain'></p>
						</div>
						<div id="unverified-clone-row" class="padding-5 clone-row table-row is-hidden flex-item">
							<p class="select-button is-inline v-align-middle">
				                <span class="icon is-medium"><i class="no-transition fa fa-square-o"></i></span>
				            </p>
							<p class='is-inline is-danger td-domain v-align-middle'></p>
							<span class="icon is-danger is-small v-align-middle"><i class="fa fa-exclamation-circle"></i></span>
						</div>
					</div>
				</div>
				<div class="column is-9">
					<div class="tabs no-border">
						<ul>
							<li id="verify-tab" class="unverified-elem is-hidden tab">
								<a tabindex="0">Verification</a>
							</li>
							<li id="info-tab" class="verified-elem tab is-active">
								<a tabindex="0">Information</a>
							</li>
							<li id="pricing-tab" class="verified-elem tab">
								<a tabindex="0">Pricing</a>
							</li>
							<li id="design-tab" class="verified-elem tab">
								<a tabindex="0">Design</a>
							</li>
							<li id="upgrade-tab" class="verified-elem tab">
								<a id="upgrade-tab-text" tabindex="0">Upgrade</a>
							</li>
						</ul>
					</div>
					<div class="box">
						<div id="verify-drop-tab" class="unverified-elem drop-tab is-hidden">
							<h3 class="is-bold">You must verify that you own this domain.</h3>
							<p>The table below details the DNS entries that are needed to verify this domain.</p>
							<p id="registrar_url">Please <a>log in to your domain provider</a> to create these entries.</p>
							<p>If you require any assistance, please refer to our <a target="_blank" rel="noopener" style'target-new:="" tab;'="" class="is-accent margin-bottom-25" href="https://intercom.help/domahub/how-to-verify-your-domain-on-domahub"> step-by-step guide</a> on domain verification.</p>
							<table class="table is-bordered margin-top-15">
								<th>Host</th>
								<th>Record</th>
								<th>Required Data</th>
								<th>Current Data</th>
								<tbody id="dns_table_body">
									<tr id="existing_a_record_clone" class='clone-dns-row is-hidden'>
										<td>@</td>
										<td>A</td>
										<td class='required_data'>208.68.37.82</td>
										<td class="existing_data">208.68.37.82</td>
									</tr>
								</tbody>
							</table>
						</div>
						<div class="verified-elem">
							<div id="info-tab-drop" class="drop-tab">
								<div class="control is-spaced">
									<div class="control-left">
										<a id="status-color" tabindex="0" class="button is-primary is-icon-only no-shadow">
											<span class="icon v-align-middle"><i id="status-icon" class="fa fa-toggle-on"></i></span>
											<span id="status-text" class="v-align-middle">Active</span>
											<span class="icon margin-left-5 is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Whether this listing is displayed publically or not." data-balloon-pos="up">
												<i class="fa fa-question-circle-o"></i>
											</span>
										</a>
										<input id="status-input" data-name="status" tabindex="0" type="hidden" class="input changeable-input" />
									</div>
								</div>
								<div class="control">
									<label class="label" for="long-desc">
										<span class="v-align-middle">Listing Description</span>
										<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Descriptions help renters understand what your domain name can be useful for." data-balloon-pos="up">
											<i class="fa fa-question-circle-o"></i>
										</span>
									</label>
									<textarea id="description" class="description-input textarea changeable-input"
									tabindex="0" data-name="description" placeholder="Write anything you want!"></textarea>
								</div>
								<div class="control">
									<label class="label" for="short-desc">
										<span class="v-align-middle">Short Description</span>
										<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="A short catch phrase helps users understand at a glance what they can utilize your domain for. 100 character limit." data-balloon-pos="up">
											<i class="fa fa-question-circle-o"></i>
										</span>
									</label>
									<input id="short-desc" data-name="description_hook" tabindex="0" class="input changeable-input"
									placeholder="What is this website?"></input>
								</div>
								<div class="control">
									<label class="label" for="categories">
										<span class="v-align-middle">Categories</span>
										<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Categories help users find similar domains. Incorrect categories can lead to a poor user experience and hurt your domain brand by being associated with non-similar domains." data-balloon-pos="up">
											<i class="fa fa-question-circle-o"></i>
										</span>
									</label>
									<div id="categories" class="category-control">
									<input id="categories-input" data-name="categories" onchange=""tabindex="0" class="is-hidden input changeable-input" value="" business="" ecard="" marketing="" niche="" personal="" promotion="">

									<%# make all the categories %>
									<% for (var x = 0; x < categories.length; x++){ %>
										<a data-category="<%= categories[x].back %>" class="<%= categories[x].back %>-category tag margin-bottom-5 category-selector is-bordered"><%= categories[x].front %></a>
										<% } %>
									</div>
								</div>
								<div class="control">
									<label class="label" for="paths">
										<span class="v-align-middle">Example Paths</span>
										<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Example paths or subdirectories that users may want to rent on your domain. Must consist of either letters or numbers." data-balloon-pos="up">
											<i class="fa fa-question-circle-o"></i>
										</span>
									</label>
									<input id="paths-input" data-name="paths" tabindex="0" class="is-hidden input changeable-input"></input>
								</div>
							</div>
							<div id="pricing-tab-drop" class="drop-tab is-hidden">
								<div class="control">
									<label class="label" for="min-price">
										<span class="v-align-middle">Min. Purchase Price</span>
										<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Minimum price is $1. Leave blank or 0 for no minimum purchase price." data-balloon-pos="up">
											<i class="fa fa-question-circle-o"></i>
										</span>
									</label>
									<input id="buy-price-input" data-name="buy_price" type="number" min="1" step="1" class="input changeable-input">
								</div>
								<div class="control">
									<label class="label" for="price-rate">
										<span class="v-align-middle">Rental Price</span>
										<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Minimum price is $1. Leave blank or 0 for no rentals." data-balloon-pos="up">
											<i class="fa fa-question-circle-o"></i>
										</span>
									</label>
									<div class="control is-grouped">
										<input id="price-rate-input" data-name="price_rate" placeholder="minimum 1" type="number" min="1" step="1" class="padding-top-0 input changeable-input">
										<span class="select price-type-span">
											<div class="drop-form">
												<select id="price-type-input" data-name="price_type" class="changeable-input">
													<option value="month">Month</option>
													<option value="week">Week</option>
													<option value="day">Day</option>
												</select>
											</div>
										</span>
									</div>
								</div>
							</div>
							<div id="design-tab-drop" class="drop-tab is-hidden">
									<div class="basic-elem control is-spaced">
										<div class="control-left">
											<p>
												Please upgrade to a Premium listing for custom designs!
											</p>
										</div>
										<div class="control-right">
											<a id="other-tab-upgrade-button" class="button is-stylish no-shadow is-info is-small">
												<span class="icon is-small">
													<i class="fa fa-diamond"></i>
												</span>
												<span>Upgrade</span>
											</a>
										</div>
									</div>
									<div class="control">
										<label class="label" for="color-scheme">
											<span class="v-align-middle">Color Scheme</span>
											<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="The three main colors of your landing page." data-balloon-pos="up">
												<i class="fa fa-question-circle-o"></i>
											</span>
										</label>
										<div class="control">
											<input id="primary-color-input" data-name="primary_color" placeholder="#3CBC8D" type="text" class="premium-input padding-top-0 input changeable-input">
										</div>
										<div class="control">
											<input id="secondary-color-input" data-name="secondary_color" placeholder="#FF5722" type="text" class="premium-input padding-top-0 input changeable-input">
										</div>
										<div class="control">
											<input id="tertiary-color-input" data-name="tertiary_color" placeholder="#2196F3" type="text" class="premium-input padding-top-0 input changeable-input">
										</div>
									</div>
									<div class="control">
										<label class="label" for="color-scheme">
											<span class="v-align-middle">Font Styling</span>
											<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="The color of the main font on your landing page. Font names can include any standard web font or Google web font. Any fonts after the first are used as backup or fallback fonts." data-balloon-pos="up">
												<i class="fa fa-question-circle-o"></i>
											</span>
										</label>
										<div class="control">
											<input id="font-color-input" data-name="font_color" placeholder="#000000" type="text" class="premium-input padding-top-0 input changeable-input">
										</div>
										<div class="control">
											<input id="font-name-input" data-name="font_name" placeholder="" type="text" class="premium-input padding-top-0 input changeable-input">
										</div>
									</div>
									<div class="control">
										<label class="label" for="color-scheme">
											<span class="v-align-middle">History Module</span>
											<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Displays a ticker of recent activity on this domain." data-balloon-pos="up">
												<i class="fa fa-question-circle-o"></i>
											</span>
										</label>
										<div class="control">
											<input id="history-module-input" data-name="history_module" type="checkbox" class="module-checkbox premium-input padding-top-0 changeable-input">
										</div>
									</div>
									<div class="control">
										<label class="label" for="color-scheme">
											<span class="v-align-middle">Traffic Module</span>
											<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Displays detailed information about the traffic of this domain including Alexa data." data-balloon-pos="up">
												<i class="fa fa-question-circle-o"></i>
											</span>
										</label>
										<div class="control">
											<input id="traffic-module-input" data-name="traffic_module" type="checkbox" class="module-checkbox premium-input padding-top-0 changeable-input">
										</div>
									</div>
									<div class="control">
										<label class="label" for="color-scheme">
											<span class="v-align-middle">Info Module</span>
											<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Displays more detailed information about the domain and other related information." data-balloon-pos="up">
												<i class="fa fa-question-circle-o"></i>
											</span>
										</label>
										<div class="control">
											<input id="info-module-input" data-name="info_module" type="checkbox" class="module-checkbox premium-input padding-top-0 changeable-input">
										</div>
									</div>
									<div class="control">
										<div class="label">
											<span class="v-align-middle">Background Image</span>
											<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="The main background image of the landing page." data-balloon-pos="up">
												<i class="fa fa-question-circle-o"></i>
											</span>
										</div>
										<div class="card-image">
											<figure class="image">
												<button id="background" tabindex="0" class="delete delete-image"></button>
												<img data-default-img="https://placeholdit.imgix.net/~text?txtsize=40&txt=LOADING...%20&w=200&h=200" id="background-image" alt="Image not found" src="">
											</figure>
										</div>
										<footer class="card-footer">
											<form tabindex="0" class="drop-form-file" method="post" enctype="multipart/form-data">
												<input id="background-image-input" data-name="background_image" type="file" name="background_image" accept="image/png, image/gif, image/jpeg" class="premium-input changeable-input input-file">
												<label for="background-image-input" class="premium-input button no-shadow is-fullwidth">
													<i class="fa fa-upload" aria-hidden="true"></i>
													<p data-default-name="Background Image" id="background-image-label" class="file-label">Background Image</p>
												</label>
											</form>
										</footer>
									</div>
									<div class="card listing-img no-shadow">
										<div class="card-image">
											<figure class="image">
												<button id="logo" tabindex="0" class="delete delete-image"></button>
												<img data-default-img="https://placeholdit.imgix.net/~text?txtsize=20&txt=NO%20LOGO&w=200&h=50" id="logo-image" alt="Image not found" src="">
											</figure>
										</div>
										<footer class="card-footer">
											<form tabindex="0" class="drop-form-file" method="post" enctype="multipart/form-data">
												<input id="logo-image-input" data-name="logo" type="file" name="logo" accept="image/png, image/gif, image/jpeg" class="premium-input changeable-input input-file">
												<label for="logo-image-input" class="premium-input button no-shadow is-fullwidth">
													<i class="fa fa-upload" aria-hidden="true"></i>
													<p data-default-name="Logo" id="logo-image-label" class="file-label">Logo</p>
												</label>
											</form>
										</footer>
									</div>
								</div>
							<div id="upgrade-tab-drop" class="drop-tab is-hidden">

									<div class="control">
										<label class="label" for="color-scheme">
											<span class="v-align-middle">Premium Status</span>
											<span class="icon is-small is-tooltip v-align-middle" data-balloon-length="medium" data-balloon="Upgrade your listing to a premium listing for $1 / year and unlock customization features." data-balloon-pos="up">
												<i class="fa fa-question-circle-o"></i>
											</span>
										</label>
										<div class="control">
											<p id="renew-status">
												Now loading Premium details...
											</p>
											<a id="upgrade-button" class="margin-top-5 is-stylish is-small basic-elem button no-shadow is-info">
												<span class="icon is-small">
													<i class="fa fa-diamond"></i>
												</span>
												<span>Upgrade</span>
											</a>
											<div class="premium-elem control">
												<a id="cancel-premium-button" class="margin-top-5 is-hidden is-small is-stylish button no-shadow is-danger">
													<span class="icon is-small">
														<i class="fa fa-times-circle"></i>
													</span>
													<span>Cancel Premium</span>
												</a>
												<a id="renew-premium-button" class="margin-top-5 is-hidden is-small is-stylish button no-shadow is-primary">
													<span class="icon is-small">
														<i class="fa fa-repeat"></i>
													</span>
													<span>Renew Premium</span>
												</a>
											</div>
										</div>
									</div>

									<div class="control">
										<label class="label" for="color-scheme">
											<span class="v-align-middle">Default Payment Method</span>
										</label>
										<div class="control">
											<p id="existing-cc" class="">Credit card ending in ****</p>
											<a id="change-card-button" tabindex="0" title="Change Payment Method" class="button is-primary is-small is-stylish no-shadow">Change Payment Method</a>
										</div>
									</div>

									<form id="stripe-form" class="is-hidden" autocomplete="on">
										<div class="control">
											<label class="label" for="color-scheme">
												<span class="v-align-middle">Card Number</span>
											</label>
											<div class="control is-grouped">
												<p class="control has-icon">
													<input id="cc-num" tabindex="0" data-stripe="number" class="input stripe-input" type="tel" placeholder="•••• •••• •••• ••••" autocomplete="cc-number"/>
													<i id="cc-icon" class="fa fa-credit-card"></i>
												</p>
											</div>
										</div>

										<div class="control">
											<label class="label" for="color-scheme">
												<span class="v-align-middle">Expiration Date</span>
											</label>
											<div class="control is-grouped">
												<p class="control has-icon">
													<input id="cc-exp" tabindex="0" maxlength="7" data-stripe="exp" class="input stripe-input" type="tel" placeholder="•• / ••" autocomplete="cc-exp"/>
													<i class="fa fa-calendar-o"></i>
												</p>
											</div>
										</div>

										<div class="control">
											<label class="label" for="color-scheme">
												<span class="v-align-middle">Security Code</span>
											</label>
											<div class="control is-grouped">
												<p class="control has-icon">
													<input id="cc-cvc" tabindex="0" data-stripe="cvc" class="input stripe-input" type="tel" placeholder="•••" autocomplete="off"/>
													<i class="fa fa-lock"></i>
												</p>
											</div>
										</div>

										<div class="control">
											<label class="label" for="color-scheme">
												<span class="v-align-middle">Zip Code</span>
											</label>
											<div class="control is-grouped">
												<p class="control has-icon">
													<input id="cc-zip" tabindex="0" maxlength="6" data-stripe="address_zip" class="input stripe-input" type="tel" autocomplete="postal-code" placeholder="•••••"/>
													<i class="fa fa-map-marker"></i>
												</p>
											</div>
										</div>
									</form>
								</div>
						</div>
						<footer class="margin-top-25">
							<a id="verify-button" class="unverified-elem button is-primary" title="Verify this domain">
								<span class="icon is-small"><i class="fa fa-check-square-o"></i></span>
								<span>Verify this domain.</span>
							</a>
							<div class="verified-elem">
								<button id="save-changes-button" class="button is-primary is-disabled is-stylish is-small no-shadow">Save</button>
								<button id="cancel-changes-button" class="vbutton is-danger is-hidden is-stylish is-small no-shadow">Cancel</button>
								<button id="checkout-button" class="button is-primary is-disabled is-hidden is-stylish is-small no-shadow">Checkout</button>
							</div>
							<div id="listing-msg-error" class="margin-top-15 is-hidden is-danger notification">
								<button class="delete"></button>
							</div>
							<div id="listing-msg-success" class="margin-top-15 is-hidden is-primary notification">
								<button class="delete"></button>
								<p id="listing-msg-success-text" class='is-white'></p>
							</div>
						</footer>
					</div>
				</div>
			</div>
		</div>
	</section>

	<%- include("../templates/footer"); %>
	<%- include("../templates/js_scripts"); %>
	<script src="/js/jquery/jquery-ui.js" type="text/javascript"></script>
	<script src="/js/lib/moment.min.js" type="text/javascript"></script>
	<script src="/js/lib/tag-it.min.js" type="text/javascript"></script>
	<script src="/js/lib/wNumb.js" type="text/javascript"></script>
	<script src="https://js.stripe.com/v2/" type="text/javascript" ></script>
	<script src="/js/jquery/jquery.payment.min.js" type="text/javascript"></script>
	<script src="/js/jquery/jquery.minicolors.min.js" type="text/javascript"></script>
	<script type="text/javascript">
	//redirect to homepage if user is not defined
	var user = <% if(typeof user != "undefined"){ %><%-JSON.stringify(user)%><% }else{ %>window.location="/"<% } %>;
	var listings = <% if(typeof listings != "undefined"){ %><%-JSON.stringify(listings)%><% }else{ %>""<% } %>;
	var categories = <% if(typeof categories != "undefined"){ %><%-JSON.stringify(categories)%><% }else{ %>""<% } %>;
	</script>
	<script src="/js/routes/profile/profile_mylistings_logic.js" type="text/javascript"></script>
</body>

</html>
